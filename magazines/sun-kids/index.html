<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>معرض المجلات</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Turn.js الخفيف جدًا (8kb فقط) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>
  <style>
    body { background: #001d34; margin: 0; padding: 0; min-height: 100vh; }
    .shelf { background: linear-gradient(#8B4513, #A0522D); height: 20px; border-radius: 8px; box-shadow: inset 0 4px 8px rgba(0,0,0,0.4); }
    #flipbook .page { background: white; padding: 20px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
    .page img { max-width: 100%; height: auto; object-fit: contain; }
  </style>
</head>
<body class="text-white">

  <!-- زر الرجوع للرئيسية -->
  <div class="fixed top-6 left-6 z-50">
    <a href="index.html" class="bg-white/20 hover:bg-white/40 backdrop-blur-md px-6 py-3 rounded-full transition">
      ← العودة للرئيسية
    </a>
  </div>

  <div class="container mx-auto px-4 py-12">
    <h1 class="text-4xl md:text-6xl font-bold text-center mb-12 text-[#31c5fd] drop-shadow-lg">
      مكتبة المجلات
    </h1>

    <!-- الرفوف -->
    <div class="space-y-16 max-w-7xl mx-auto">

      <!-- رف 1 -->
      <div>
        <div class="shelf"></div>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mt-8 justify-items-center">
          
          <!-- مجلة 1 -->
          <div class="cursor-pointer group" onclick="openMagazine('magazine1')">
            <img src="covers/mag1.jpg" alt="مجلة 1" class="w-48 h-64 object-cover rounded-lg shadow-2xl transition-all group-hover:scale-105 group-hover:-rotate-3">
            <p class="text-center mt-4 text-lg font-semibold text-[#31c5fd]">مجلة العلوم 2025</p>
          </div>

          <!-- مجلة 2 -->
          <div class="cursor-pointer group" onclick="openMagazine('magazine2')">
            <img src="covers/mag2.jpg" class="w-48 h-64 object-cover rounded-lg shadow-2xl transition-all group-hover:scale-105 group-hover:rotate-3">
            <p class="text-center mt-4 text-lg font-semibold text-[#31c5fd]">عالم التقنية</p>
          </div>

          <!-- كمل باقي المجلات بنفس الطريقة (3، 4، 5، 6...) -->
          
        </div>
      </div>

      <!-- رف 2 (لو عايز أكتر من 6) -->
      <!-- كرر الـ div بتاع الرف حسب عدد المجلات -->

    </div>
  </div>

  <!-- نافذة الـ Flipbook -->
  <div id="magazineViewer" class="fixed inset-0 bg-black/95 z-50 hidden items-center justify-center">
    <div class="relative bg-white rounded-2xl shadow-2xl p-8 max-w-6xl w-full mx-4">
      <button onclick="closeMagazine()" class="absolute -top-12 right-0 text-white text-4xl hover:text-[#31c5fd]">&times;</button>
      <div id="flipbook" class="mx-auto">
        <!-- الصفحات هتتحط هنا ديناميكيًا بالجافاسكريبت -->
      </div>
    </div>
  </div>

  <script>
    const magazines = {
      magazine1: ["pages/mag1/page1.jpg", "pages/mag1/page2.jpg", "pages/mag1/page3.jpg", /* كل الصفحات */],
      magazine2: ["pages/mag2/page1.jpg", "pages/mag2/page2.jpg", /* ... */],
      // أضف باقي المجلات هنا
    };

    function openMagazine(id) {
      const pages = magazines[id];
      const flipbook = document.getElementById("flipbook");
      flipbook.innerHTML = "";
      pages.forEach(src => {
        flipbook.innerHTML += `<div><img src="${src}" class="w-full h-full object-contain"></div>`;
      });
      document.getElementById("magazineViewer").classList.remove("hidden");
      document.getElementById("magazineViewer").classList.add("flex");
      setTimeout(() => $("#flipbook").turn({width: 900, height: 600, autoCenter: true, gradients: true}), 100);
    }

    function closeMagazine() {
      $("#flipbook").turn("destroy");
      document.getElementById("magazineViewer").classList.add("hidden");
      document.getElementById("flipbook").innerHTML = "";
    }

    // تمكين jQuery من CDN (مطلوب لـ Turn.js)
    const script = document.createElement('script');
    script.src = 'https://code.jquery.com/jquery-3.6.0.min.js';
    script.onload = () => { /* جاهز */ };
    document.head.appendChild(script);
  </script>

</body>
</html>
